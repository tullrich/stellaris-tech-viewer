!function(e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).ELK=e()}(function(){return function e(r,t,o){function n(s,a){if(!t[s]){if(!r[s]){var u="function"==typeof require&&require;if(!a&&u)return u(s,!0);if(i)return i(s,!0);var f=new Error("Cannot find module '"+s+"'");throw f.code="MODULE_NOT_FOUND",f}var c=t[s]={exports:{}};r[s][0].call(c.exports,function(e){return n(r[s][1][e]||e)},c,c.exports,e,r,t,o)}return t[s].exports}for(var i="function"==typeof require&&require,s=0;s<o.length;s++)n(o[s]);return n}({1:[function(e,r,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,r){for(var t=0;t<r.length;t++){var o=r[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(r,t,o){return t&&e(r.prototype,t),o&&e(r,o),r}}();function n(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(){var r=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=t.defaultLayoutOptions,i=void 0===o?{}:o,a=t.algorithms,u=void 0===a?["layered","stress","mrtree","radial","force","disco","sporeOverlap","sporeCompaction"]:a,f=t.workerFactory,c=t.workerUrl;if(n(this,e),this.defaultLayoutOptions=i,this.initialized=!1,void 0===c&&void 0===f)throw new Error("Cannot construct an ELK without both 'workerUrl' and 'workerFactory'.");var d=f;void 0!==c&&void 0===f&&(d=function(e){return new Worker(e)});var l=d(c);if("function"!=typeof l.postMessage)throw new TypeError("Created worker does not provide the required 'postMessage' function.");this.worker=new s(l),this.worker.postMessage({cmd:"register",algorithms:u}).then(function(e){return r.initialized=!0}).catch(console.err)}return o(e,[{key:"layout",value:function(e){var r=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).layoutOptions;return e?this.worker.postMessage({cmd:"layout",graph:e,options:void 0===r?this.defaultLayoutOptions:r}):Promise.reject(new Error("Missing mandatory parameter 'graph'."))}},{key:"knownLayoutAlgorithms",value:function(){return this.worker.postMessage({cmd:"algorithms"})}},{key:"knownLayoutOptions",value:function(){return this.worker.postMessage({cmd:"options"})}},{key:"knownLayoutCategories",value:function(){return this.worker.postMessage({cmd:"categories"})}},{key:"terminateWorker",value:function(){this.worker.terminate()}}]),e}();t.default=i;var s=function(){function e(r){var t=this;if(n(this,e),void 0===r)throw new Error("Missing mandatory parameter 'worker'.");this.resolvers={},this.worker=r,this.worker.onmessage=function(e){setTimeout(function(){t.receive(t,e)},0)}}return o(e,[{key:"postMessage",value:function(e){var r=this.id||0;this.id=r+1,e.id=r;var t=this;return new Promise(function(o,n){t.resolvers[r]=function(e,r){e?n(e):o(r)},t.worker.postMessage(e)})}},{key:"receive",value:function(e,r){var t=r.data,o=e.resolvers[t.id];o&&(delete e.resolvers[t.id],t.error?o(t.error):o(null,t.data))}},{key:"terminate",value:function(){this.worker.terminate&&this.worker.terminate()}}]),e}()},{}],2:[function(e,r,t){"use strict";var o=e("./elk-api.js").default;Object.defineProperty(r.exports,"__esModule",{value:!0}),r.exports=o,o.default=o},{"./elk-api.js":1}]},{},[2])(2)});